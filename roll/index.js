"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),redux=require("redux"),update=_interopDefault(require("immutability-helper")),reactRedux=require("react-redux"),reactBootstrap=require("react-bootstrap"),reactContextmenu=require("react-contextmenu"),thunk=_interopDefault(require("redux-thunk"));const ReactCrudMasterActionTypeNames={SET_COL_MODELS:"SET_COL_MODELS",RESIZE_COLUMN:"RESIZE_COLUMN",SET_COLUMN_TO_RESIZE:"SET_COLUMN_TO_RESIZE",SET_INITIAL_TABLE_OFFSET_WIDTH:"SET_INITIAL_TABLE_OFFSET_WIDTH",CHANGE_ORDER_DIRECTION:"CHANGE_ORDER_DIRECTION",SELECT_ROW:"SELECT_ROW",SET_DATA:"SET_DATA",SET_TABLE_TITLE:"SET_TABLE_TITLE"},initialState=()=>({colModels:[],data:[],width:0,sortColumn:null,selectedRow:null,startOffset:0,columnToResize:null,show:!1,RCMID:Date.now(),modalState:null,tableWidth:0,emptyModalState:null}),initialReactCrudMasterStateProps=()=>({colModels:[],data:[],width:0,sortColumn:null,selectedRow:null,startOffset:null,columnToResize:null,show:null,RCMID:Date.now(),modalState:null,emptyModalState:null,tableWidth:0,tableTitleProp:"Table title"}),REACT_CRUD_MASTER="REACT_CRUD_MASTER",COL_MENU_MODAL="COL_MENU_MODAL",CRUD_MODAL="CRUD_MODAL",CONTEXT_MENU_MODAL="CONTEXT_MENU_MODAL";function reactCrudMasterReducer(e=initialReactCrudMasterStateProps(),t){if(t.namespace!=REACT_CRUD_MASTER)return e;switch(t.type){case ReactCrudMasterActionTypeNames.SET_COL_MODELS:return t=t,Object.assign({},Object.assign({},e),{colModels:t.payload.colModels,tableWidth:t.payload.tableWidth});case ReactCrudMasterActionTypeNames.SET_DATA:{let a=t;return Object.assign({},Object.assign({},e),{data:a.payload.data})}case ReactCrudMasterActionTypeNames.RESIZE_COLUMN:let a=(t=t).payload.e.pageX,r=e.colModels.map(t=>(t.name==e.columnToResize.name&&e.startOffset+a>=e.columnToResize.minWidth&&(t.width=e.startOffset+a),t)),o=0;return r.forEach(e=>{o+=e.width}),update(e,{colModels:{$set:r},tableWidth:{$set:o}});case ReactCrudMasterActionTypeNames.SET_COLUMN_TO_RESIZE:{let a=t,{column:r,e:o}=Object.assign({},a.payload);return null!=r?Object.assign({},Object.assign({},e),{columnToResize:r,startOffset:o.target.parentNode.offsetWidth-o.pageX}):Object.assign({},Object.assign({},e),{columnToResize:null})}case ReactCrudMasterActionTypeNames.SET_INITIAL_TABLE_OFFSET_WIDTH:{let t=document.getElementById(`CMID-${e.RCMID}`);return Object.assign({},Object.assign({},e),{width:t.offsetWidth})}case ReactCrudMasterActionTypeNames.SELECT_ROW:{let a=t;return Object.assign({},Object.assign({},e),{selectedRow:a.payload.row})}case ReactCrudMasterActionTypeNames.CHANGE_ORDER_DIRECTION:{let a=t,r=e.colModels.map(e=>(e.name==a.payload.column.name?"asc"===e.orderDirection?e.orderDirection="desc":"desc"===e.orderDirection?e.orderDirection="":e.orderDirection="asc":e.orderDirection="",e));return Object.assign({},Object.assign({},e),{colModels:r})}case ReactCrudMasterActionTypeNames.SET_TABLE_TITLE:{let a=t;return Object.assign({},Object.assign({},e),{tableTitleProp:a.payload.tableTitle})}default:return e}}const CrudModalActionTypeNames={CLOSE_MODAL:"CLOSE_MODAL",OPEN_MODAL:"OPEN_MODAL",GENERATE_COL_NAME_PROPERTIES_IN_ROW_DATA:"GENERATE_COL_NAME_PROPERTIES_IN_ROW_DATA",ON_ROW_DATA_CHANGE:"ON_ROW_DATA_CHANGE"},initialState$1=()=>({}),initialCrudModalStateProps=()=>({show:!1,colModels:[],rowData:{},emptyRowData:{}});function crudModalReducer(e=initialCrudModalStateProps(),t){if(t.namespace!=CRUD_MODAL)return e;switch(t.type){case CrudModalActionTypeNames.CLOSE_MODAL:return Object.assign({},Object.assign({},e),{show:!1,rowData:e.emptyRowData});case CrudModalActionTypeNames.OPEN_MODAL:return Object.assign({},Object.assign({},e),{show:!0});case CrudModalActionTypeNames.GENERATE_COL_NAME_PROPERTIES_IN_ROW_DATA:{let a={};return t.payload.colModels.map(e=>{a[e.name]=""}),Object.assign({},Object.assign({},e),{rowData:a,emptyRowData:a})}case CrudModalActionTypeNames.ON_ROW_DATA_CHANGE:{let a=t;return update(e,{rowData:{[a.payload.name]:{$set:a.payload.value}}})}default:return e}}class ColModel{constructor(e){if(this._minWidth=0,this._width=0,this.name="",this.label="",this.orderDirection="",this.showColMenuModal=!1,this.calculateMinWithOfColumnByLabel=e=>{var t=e.split(" ").reduce((e,t)=>{return this.getWidthOfWord(e)>this.getWidthOfWord(t)?e:t});return this.getWidthOfWord(t)+40},this.getWidthOfWord=e=>{let t=document.getElementById("label-width-tester");return t.textContent=e,t.offsetWidth},!ColModel.created){let e=document.createElement("span");e.id="label-width-tester",e.style.fontSize="16px",e.style.fontWeight="700",e.style.position="absolute",e.style.top="-999999px",document.body.appendChild(e),ColModel.created=!0}null!=e&&(Object.assign(this,e),null==e.minWidth&&(this.minWidth=this.calculateMinWithOfColumnByLabel(this.label)),null==e.width&&(this.width=this.getWidthOfWord(this.label)))}get minWidth(){return this._minWidth}set minWidth(e){e<0&&(e=this.calculateMinWithOfColumnByLabel(this.label)),this._minWidth=e}get width(){return this._width}set width(e){e<=0&&(e=this.getWidthOfWord(this.label)),this._width=e}}ColModel.created=!1;const ColMenuModalActionTypeNames={OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL"},initialState$2=()=>({}),initialColMenuModalStateProps=()=>({colModel:new ColModel,show:!1});function ColMenuModalReducer(e=initialColMenuModalStateProps(),t){if(t.namespace!=COL_MENU_MODAL)return e;switch(t.type){case ColMenuModalActionTypeNames.OPEN_MODAL:{let a=t;return Object.assign({},Object.assign({},e),{show:!0,colModel:a.payload.colModel})}case ColMenuModalActionTypeNames.CLOSE_MODAL:return Object.assign({},Object.assign({},e),{show:!1,colModel:null});default:return e}}const ContextMenuModalActionTypeNames={SET_CONTEXT_MENU_TRIGGER_REF:"SET_CONTEXT_MENU_TRIGGER_REF"},initialContextMenuModalStateProps=()=>({contextMenuTrigger:null,RCMID:Date.now()});function ContextMenuModalReducer(e=initialContextMenuModalStateProps(),t){if(t.namespace!=CONTEXT_MENU_MODAL)return e;switch(t.type){case ContextMenuModalActionTypeNames.SET_CONTEXT_MENU_TRIGGER_REF:{let a=t;return Object.assign({},Object.assign({},e),{contextMenuTrigger:a.payload.ref})}default:return e}}const rootReducer=redux.combineReducers({reactCrudMaster:reactCrudMasterReducer,crudModal:crudModalReducer,colMenuModal:ColMenuModalReducer,contextMenuModal:ContextMenuModalReducer}),namespace=CRUD_MODAL;function closeModal(){return{type:CrudModalActionTypeNames.CLOSE_MODAL,payload:null,namespace:namespace}}function openModal(){return{type:CrudModalActionTypeNames.OPEN_MODAL,payload:null,namespace:namespace}}function generateColNamePropertiesInRowData(e){return{type:CrudModalActionTypeNames.GENERATE_COL_NAME_PROPERTIES_IN_ROW_DATA,payload:{colModels:e},namespace:namespace}}function onRowDataChange(e,t){return{type:CrudModalActionTypeNames.ON_ROW_DATA_CHANGE,payload:{name:e,value:t},namespace:namespace}}class TableFooterComponent extends React.Component{constructor(e){super(e),this.render=()=>{let e={borderRadius:0,margin:1};return this.props.tableWidth<620?React__default.createElement(reactBootstrap.Row,null,React__default.createElement(reactBootstrap.Col,{xs:2},React__default.createElement(reactBootstrap.Dropdown,{style:{textAlign:"left"}},React__default.createElement(reactBootstrap.Dropdown.Toggle,{size:"sm",style:Object.assign({},e),variant:"primary",id:"dropdown-basic"},React__default.createElement("i",{className:"fas fa-bars"})),React__default.createElement(reactBootstrap.Dropdown.Menu,null,React__default.createElement(reactBootstrap.Dropdown.Item,{href:"#/action-1",onClick:()=>this.props.openCrudModal()},React__default.createElement("i",{className:"fas fa-plus"}),React__default.createElement("span",{style:{paddingLeft:10}},"Add")),React__default.createElement(reactBootstrap.Dropdown.Item,{href:"#/action-2"},React__default.createElement("i",{className:"fas fa-edit"}),React__default.createElement("span",{style:{paddingLeft:10}},"Edit")),React__default.createElement(reactBootstrap.Dropdown.Item,{href:"#/action-2"},React__default.createElement("i",{className:"fas fa-trash-alt"}),React__default.createElement("span",{style:{paddingLeft:10}},"Delete")),React__default.createElement(reactBootstrap.Dropdown.Item,{href:"#/action-2"},React__default.createElement("i",{className:"fas fa-eye"})," ",React__default.createElement("span",{style:{paddingLeft:10}},"View")),React__default.createElement(reactBootstrap.Dropdown.Item,{href:"#/action-2"},React__default.createElement("i",{className:"fas fa-search"})," ",React__default.createElement("span",{style:{paddingLeft:10}},"Search"))))),React__default.createElement(reactBootstrap.Col,{xs:6},React__default.createElement(reactBootstrap.InputGroup,{className:"",style:{textAlign:"center",alignItems:"center",justifyContent:"center"}},React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-left"})),React__default.createElement("div",{style:{display:"inline-block"}},React__default.createElement(reactBootstrap.Form.Control,{className:"border-radius-0",style:{height:31,margin:1,padding:2,width:50},defaultValue:"asd"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-right"})))),React__default.createElement(reactBootstrap.Col,{xs:4}," 102 - 103 / 123 ")):React__default.createElement(reactBootstrap.Row,null,React__default.createElement(reactBootstrap.Col,{xs:4,style:{textAlign:"left"}},React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e),onClick:()=>this.props.openCrudModal()},React__default.createElement("i",{className:"fas fa-plus"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"far fa-edit"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-trash-alt"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-eye"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-search"}))),React__default.createElement(reactBootstrap.Col,{xs:4},React__default.createElement(reactBootstrap.InputGroup,{className:"",style:{textAlign:"center",alignItems:"center",justifyContent:"center"}},React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-double-left"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-left"})),React__default.createElement("div",{style:{display:"inline-block"}},React__default.createElement(reactBootstrap.Form.Control,{className:"border-radius-0",style:{height:31,margin:1,padding:2,width:50},defaultValue:"asd"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-right"})),React__default.createElement(reactBootstrap.Button,{size:"sm",style:Object.assign({},e)},React__default.createElement("i",{className:"fas fa-angle-double-right"})))),React__default.createElement(reactBootstrap.Col,{xs:4,style:{textAlign:"right"}},React__default.createElement(reactBootstrap.Button,null,"<"," "),React__default.createElement(reactBootstrap.Button,null," ",">"," ")))},this.state={}}}const mapDispatchToProps=(e,t)=>({openCrudModal:()=>e(openModal())}),mapStateToProps=(e,t)=>({});var TableFooter=reactRedux.connect(mapStateToProps,mapDispatchToProps)(TableFooterComponent);function __awaiter(e,t,a,r){return new(a||(a=Promise))(function(o,n){function s(e){try{c(r.next(e))}catch(e){n(e)}}function l(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){e.done?o(e.value):new a(function(t){t(e.value)}).then(s,l)}c((r=r.apply(e,t||[])).next())})}function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(e,t){return e===t||e!=e&&t!=t}var eq_1=eq;function assocIndexOf(e,t){for(var a=e.length;a--;)if(eq_1(e[a][0],t))return a;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,a=_assocIndexOf(t,e);return!(a<0)&&(a==t.length-1?t.pop():splice.call(t,a,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(e){var t=this.__data__,a=_assocIndexOf(t,e);return a<0?void 0:t[a][1]}var _listCacheGet=listCacheGet;function listCacheHas(e){return _assocIndexOf(this.__data__,e)>-1}var _listCacheHas=listCacheHas;function listCacheSet(e,t){var a=this.__data__,r=_assocIndexOf(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}var _stackDelete=stackDelete;function stackGet(e){return this.__data__.get(e)}var _stackGet=stackGet;function stackHas(e){return this.__data__.has(e)}var _stackHas=stackHas,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol=_root.Symbol,_Symbol=Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),a=e[symToStringTag];try{e[symToStringTag]=void 0;var r=!0}catch(e){}var o=nativeObjectToString.call(e);return r&&(t?e[symToStringTag]=a:delete e[symToStringTag]),o}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var a=_getValue(e,t);return _baseIsNative(a)?a:void 0}var _getNative=getNative,Map=_getNative(_root,"Map"),_Map=Map,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashGet(e){var t=this.__data__;if(_nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty$2.call(t,e)?t[e]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(e){var t=this.__data__;return _nativeCreate?void 0!==t[e]:hasOwnProperty$3.call(t,e)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=_nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){var a=e.__data__;return _isKeyable(t)?a["string"==typeof t?"string":"hash"]:a.map}var _getMapData=getMapData;function mapCacheDelete(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,e).get(e)}var _mapCacheGet=mapCacheGet;function mapCacheHas(e){return _getMapData(this,e).has(e)}var _mapCacheHas=mapCacheHas;function mapCacheSet(e,t){var a=_getMapData(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,LARGE_ARRAY_SIZE=200;function stackSet(e,t){var a=this.__data__;if(a instanceof _ListCache){var r=a.__data__;if(!_Map||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this.size=++a.size,this;a=this.__data__=new _MapCache(r)}return a.set(e,t),this.size=a.size,this}var _stackSet=stackSet;function Stack(e){var t=this.__data__=new _ListCache(e);this.size=t.size}Stack.prototype.clear=_stackClear,Stack.prototype.delete=_stackDelete,Stack.prototype.get=_stackGet,Stack.prototype.has=_stackHas,Stack.prototype.set=_stackSet;var _Stack=Stack;function arrayEach(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););return e}var _arrayEach=arrayEach,defineProperty=function(){try{var e=_getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty=defineProperty;function baseAssignValue(e,t,a){"__proto__"==t&&_defineProperty?_defineProperty(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}var _baseAssignValue=baseAssignValue,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function assignValue(e,t,a){var r=e[t];hasOwnProperty$4.call(e,t)&&eq_1(r,a)&&(void 0!==a||t in e)||_baseAssignValue(e,t,a)}var _assignValue=assignValue;function copyObject(e,t,a,r){var o=!a;a||(a={});for(var n=-1,s=t.length;++n<s;){var l=t[n],c=r?r(a[l],e[l],l,a,e):void 0;void 0===c&&(c=e[l]),o?_baseAssignValue(a,l,c):_assignValue(a,l,c)}return a}var _copyObject=copyObject;function baseTimes(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}var _baseTimes=baseTimes;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(e,t){var a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,o=r&&r.exports===a?_root.Buffer:void 0,n=(o?o.isBuffer:void 0)||stubFalse_1;e.exports=n}),MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var a=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==a||"symbol"!=a&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(e,t){var a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,o=r&&r.exports===a&&_freeGlobal.process,n=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=n}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys(e,t){var a=isArray_1(e),r=!a&&isArguments_1(e),o=!a&&!r&&isBuffer_1(e),n=!a&&!r&&!o&&isTypedArray_1(e),s=a||r||o||n,l=s?_baseTimes(e.length,String):[],c=l.length;for(var i in e)!t&&!hasOwnProperty$6.call(e,i)||s&&("length"==i||o&&("offset"==i||"parent"==i)||n&&("buffer"==i||"byteLength"==i||"byteOffset"==i)||_isIndex(i,c))||l.push(i);return l}var _arrayLikeKeys=arrayLikeKeys,objectProto$8=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$8)}var _isPrototype=isPrototype;function overArg(e,t){return function(a){return e(t(a))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeys(e){if(!_isPrototype(e))return _nativeKeys(e);var t=[];for(var a in Object(e))hasOwnProperty$7.call(e,a)&&"constructor"!=a&&t.push(a);return t}var _baseKeys=baseKeys;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike;function keys(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)}var keys_1=keys;function baseAssign(e,t){return e&&_copyObject(t,keys_1(t),e)}var _baseAssign=baseAssign;function nativeKeysIn(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}var _nativeKeysIn=nativeKeysIn,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function baseKeysIn(e){if(!isObject_1(e))return _nativeKeysIn(e);var t=_isPrototype(e),a=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$8.call(e,r))&&a.push(r);return a}var _baseKeysIn=baseKeysIn;function keysIn$1(e){return isArrayLike_1(e)?_arrayLikeKeys(e,!0):_baseKeysIn(e)}var keysIn_1=keysIn$1;function baseAssignIn(e,t){return e&&_copyObject(t,keysIn_1(t),e)}var _baseAssignIn=baseAssignIn,_cloneBuffer=createCommonjsModule(function(e,t){var a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,o=r&&r.exports===a?_root.Buffer:void 0,n=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,r=n?n(a):new e.constructor(a);return e.copy(r),r}});function copyArray(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}var _copyArray=copyArray;function arrayFilter(e,t){for(var a=-1,r=null==e?0:e.length,o=0,n=[];++a<r;){var s=e[a];t(s,a,e)&&(n[o++]=s)}return n}var _arrayFilter=arrayFilter;function stubArray(){return[]}var stubArray_1=stubArray,objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),_arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray_1,_getSymbols=getSymbols;function copySymbols(e,t){return _copyObject(e,_getSymbols(e),t)}var _copySymbols=copySymbols;function arrayPush(e,t){for(var a=-1,r=t.length,o=e.length;++a<r;)e[o+a]=t[a];return e}var _arrayPush=arrayPush,getPrototype=_overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(e){for(var t=[];e;)_arrayPush(t,_getSymbols(e)),e=_getPrototype(e);return t}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(e,t){return _copyObject(e,_getSymbolsIn(e),t)}var _copySymbolsIn=copySymbolsIn;function baseGetAllKeys(e,t,a){var r=t(e);return isArray_1(e)?r:_arrayPush(r,a(e))}var _baseGetAllKeys=baseGetAllKeys;function getAllKeys(e){return _baseGetAllKeys(e,keys_1,_getSymbols)}var _getAllKeys=getAllKeys;function getAllKeysIn(e){return _baseGetAllKeys(e,keysIn_1,_getSymbolsIn)}var _getAllKeysIn=getAllKeysIn,DataView=_getNative(_root,"DataView"),_DataView=DataView,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set=_getNative(_root,"Set"),_Set=Set,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$1||_Map&&getTag(new _Map)!=mapTag$1||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$1||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=_baseGetTag(e),a=t==objectTag$1?e.constructor:void 0,r=a?_toSource(a):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag,objectProto$c=Object.prototype,hasOwnProperty$9=objectProto$c.hasOwnProperty;function initCloneArray(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$9.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var _initCloneArray=initCloneArray,Uint8Array=_root.Uint8Array,_Uint8Array=Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _Uint8Array(t).set(new _Uint8Array(e)),t}var _cloneArrayBuffer=cloneArrayBuffer;function cloneDataView(e,t){var a=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}var _cloneSymbol=cloneSymbol;function cloneTypedArray(e,t){var a=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,a){var r=e.constructor;switch(t){case arrayBufferTag$1:return _cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new r(+e);case dataViewTag$2:return _cloneDataView(e,a);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return _cloneTypedArray(e,a);case mapTag$2:return new r;case numberTag$1:case stringTag$1:return new r(e);case regexpTag$1:return _cloneRegExp(e);case setTag$2:return new r;case symbolTag:return _cloneSymbol(e)}}var _initCloneByTag=initCloneByTag,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject_1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}(),_baseCreate=baseCreate;function initCloneObject(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:_baseCreate(_getPrototype(e))}var _initCloneObject=initCloneObject,mapTag$3="[object Map]";function baseIsMap(e){return isObjectLike_1(e)&&_getTag(e)==mapTag$3}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,setTag$3="[object Set]";function baseIsSet(e){return isObjectLike_1(e)&&_getTag(e)==setTag$3}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",cloneableTags={};function baseClone(e,t,a,r,o,n){var s,l=t&CLONE_DEEP_FLAG,c=t&CLONE_FLAT_FLAG,i=t&CLONE_SYMBOLS_FLAG;if(a&&(s=o?a(e,r,o,n):a(e)),void 0!==s)return s;if(!isObject_1(e))return e;var u=isArray_1(e);if(u){if(s=_initCloneArray(e),!l)return _copyArray(e,s)}else{var d=_getTag(e),p=d==funcTag$2||d==genTag$1;if(isBuffer_1(e))return _cloneBuffer(e,l);if(d==objectTag$2||d==argsTag$2||p&&!o){if(s=c||p?{}:_initCloneObject(e),!l)return c?_copySymbolsIn(e,_baseAssignIn(s,e)):_copySymbols(e,_baseAssign(s,e))}else{if(!cloneableTags[d])return o?e:{};s=_initCloneByTag(e,d,l)}}n||(n=new _Stack);var _=n.get(e);if(_)return _;n.set(e,s),isSet_1(e)?e.forEach(function(r){s.add(baseClone(r,t,a,r,e,n))}):isMap_1(e)&&e.forEach(function(r,o){s.set(o,baseClone(r,t,a,o,e,n))});var y=i?c?_getAllKeysIn:_getAllKeys:c?keysIn:keys_1,m=u?void 0:y(e);return _arrayEach(m||e,function(r,o){m&&(r=e[o=r]),_assignValue(s,o,baseClone(r,t,a,o,e,n))}),s}cloneableTags[argsTag$2]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$2]=cloneableTags[float64Tag$2]=cloneableTags[int8Tag$2]=cloneableTags[int16Tag$2]=cloneableTags[int32Tag$2]=cloneableTags[mapTag$4]=cloneableTags[numberTag$2]=cloneableTags[objectTag$2]=cloneableTags[regexpTag$2]=cloneableTags[setTag$4]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag$2]=cloneableTags[uint8ClampedTag$2]=cloneableTags[uint16Tag$2]=cloneableTags[uint32Tag$2]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;var _baseClone=baseClone,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(e){return _baseClone(e,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var cloneDeep_1=cloneDeep;const namespace$1=REACT_CRUD_MASTER;function privateSetColModels(e){let t=cloneDeep_1(e),a=0;return t.forEach(e=>{a+=getUsefullColModelWith(e),e.showColMenuModal=!1}),{type:ReactCrudMasterActionTypeNames.SET_COL_MODELS,payload:{colModels:t,tableWidth:a},namespace:namespace$1}}function getUsefullColModelWith(e){return null!=e.width?e.width:0}const setColModels=e=>t=>__awaiter(void 0,void 0,void 0,function*(){t(privateSetColModels(e)),t(generateColNamePropertiesInRowData(e))});function setData(e){let t=cloneDeep_1(e);return{type:ReactCrudMasterActionTypeNames.SET_DATA,payload:{data:t},namespace:namespace$1}}function resizeColumn(e){return{type:ReactCrudMasterActionTypeNames.RESIZE_COLUMN,payload:{e:e},namespace:namespace$1}}function setColumnToResize(e=null,t=null){return{type:ReactCrudMasterActionTypeNames.SET_COLUMN_TO_RESIZE,payload:{e:t,column:e},namespace:namespace$1}}function resetTableoffsetWidth(){return{type:ReactCrudMasterActionTypeNames.SET_INITIAL_TABLE_OFFSET_WIDTH,namespace:namespace$1,payload:null}}function changeOrderDirection(e){return{type:ReactCrudMasterActionTypeNames.CHANGE_ORDER_DIRECTION,namespace:namespace$1,payload:{column:e}}}function selectRow(e){return{type:ReactCrudMasterActionTypeNames.SELECT_ROW,namespace:namespace$1,payload:{row:e}}}function setTableTitle(e){return{type:ReactCrudMasterActionTypeNames.SET_TABLE_TITLE,namespace:namespace$1,payload:{tableTitle:e}}}const initialState$3=()=>({}),namespace$2=COL_MENU_MODAL;function openModal$1(e){return{type:ColMenuModalActionTypeNames.OPEN_MODAL,payload:{colModel:e},namespace:namespace$2}}function closeModal$1(){return{type:ColMenuModalActionTypeNames.CLOSE_MODAL,payload:null,namespace:namespace$2}}class TableHeaderComponent extends React.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.onThClick=e=>{this.props.changeOrderDirection(e)},this.state=initialState$3()}render(){return React__default.createElement("div",{className:"rcm-header-table-holder",id:"z",onScroll:()=>{var e=document.getElementById("z");document.getElementById("q").scrollLeft=e.scrollLeft}},React__default.createElement(reactBootstrap.Table,{id:"x",className:"rcm-header-table",striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:this.props.tableWidth}},React__default.createElement("thead",{className:"rcm-header-table-thead"},React__default.createElement("tr",null,this.props.colModels.map(e=>React__default.createElement("th",{className:"rcm-header-table-colum-header",key:e.name,style:{width:e.width},id:e.name},React__default.createElement("div",{className:"column-header-content-holder"},React__default.createElement("div",{className:"column-header-label",onClick:()=>this.onThClick(e)},""!=e.orderDirection&&e.orderDirection," ",e.label),React__default.createElement("div",{className:"column-header-menu-holder"},React__default.createElement(reactBootstrap.Button,{onClick:()=>this.props.openColMenuModel(e),size:"sm",className:"border-radius-0",style:{marginRight:5,padding:"1px 4px"}},React__default.createElement("i",{style:{padding:0},className:"fas fa-sliders-h"})))),React__default.createElement("div",{className:"column-header-resize-bar",onDragStart:e=>e.preventDefault(),onMouseDown:t=>this.setColumnToResize(t,e)},"Â ")))))))}setColumnToResize(e,t){this.props.setColumnToResize(t,e),document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none",document.body.style.userSelect="none"}}const mapDispatchToProps$1=(e,t)=>({setColModels:t=>e(setColModels(t)),resizeColumn:t=>e(resizeColumn(t)),setColumnToResize:(t=null,a=null)=>e(setColumnToResize(t,a)),resetTableoffsetWidth:()=>e(resetTableoffsetWidth()),changeOrderDirection:t=>e(changeOrderDirection(t)),openColMenuModel:t=>e(openModal$1(t))}),mapStateToProps$1=(e,t)=>({colModels:e.reactCrudMaster.colModels,data:e.reactCrudMaster.data,tableWidth:e.reactCrudMaster.tableWidth,columnToResize:e.reactCrudMaster.columnToResize,RCMID:e.reactCrudMaster.RCMID,width:e.reactCrudMaster.width});var TableHeader=reactRedux.connect(mapStateToProps$1,mapDispatchToProps$1)(TableHeaderComponent);const initialState$4=()=>({});class TableBodyComponent extends React.Component{constructor(e){super(e),this.onClickOnRow=e=>{this.props.selectRow(e)},this.onRightClickOnRow=(e,t)=>{e.preventDefault(),this.openContextMenu(e),this.onClickOnRow(t)},this.openContextMenu=e=>{null!=this.props.contextTrigger&&this.props.contextTrigger.handleContextClick(e)},this.testScroll=e=>{document.getElementById("z").scrollLeft=e.target.scrollLeft;var t=document.getElementsByClassName("react-contextmenu--visible");if(t.length>0)for(var a=0;a<t.length;a++)t.item(a).style.opacity="0",t.item(a).style.pointerEvents="none",t.item(a).classList.remove("react-contextmenu--visible")},this.state=initialState$4()}render(){return React__default.createElement("div",{id:"q",className:"reactable-data-table-holder",style:{overflowX:"auto",overflowY:"auto"},onScroll:e=>this.testScroll(e)},React__default.createElement(reactBootstrap.Table,{className:"reactable-table reactable-data-table",striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:this.props.tableWidth,borderBottom:0,height:"100%"}},React__default.createElement("tbody",{className:"reactable-data-body"},this.props.data.map((e,t)=>React__default.createElement("tr",{key:t,className:e==this.props.selectedRow?"selectedRow":"",onClick:()=>this.onClickOnRow(e),onContextMenu:t=>this.onRightClickOnRow(t,e)},this.props.colModels.map((t,a)=>React__default.createElement("td",{key:a,style:{width:t.width,wordWrap:"break-word",whiteSpace:"normal",wordBreak:"break-all"}}," ",e[t.name]," ")))))))}}const mapDispatchToProps$2=e=>({selectRow:t=>e(selectRow(t))}),mapStateToProps$2=e=>({colModels:e.reactCrudMaster.colModels,data:e.reactCrudMaster.data,tableWidth:e.reactCrudMaster.tableWidth,columnToResize:e.reactCrudMaster.columnToResize,RCMID:e.reactCrudMaster.RCMID,width:e.reactCrudMaster.width,selectedRow:e.reactCrudMaster.selectedRow,contextTrigger:e.contextMenuModal.contextMenuTrigger});var TableBody=reactRedux.connect(mapStateToProps$2,mapDispatchToProps$2)(TableBodyComponent);class CrudModalComponent extends React.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.handleClose=()=>{this.props.closeCrudModal()},this.onRowDataChange=(e,t)=>{this.props.onRowDataChange(e,t)},this.state=initialState$1()}render(){return React__default.createElement(reactBootstrap.Modal,{style:{borderRadius:0},show:this.props.show,onHide:this.handleClose,centered:!0},React__default.createElement(reactBootstrap.Modal.Header,{style:{borderRadius:0},closeButton:!0},React__default.createElement(reactBootstrap.Modal.Title,null,"Modal heading ")),React__default.createElement(reactBootstrap.Modal.Body,null,this.props.colModels.map(e=>React__default.createElement("div",{key:e.name},React__default.createElement(reactBootstrap.Form.Group,{controlId:"formBasicEmail",style:{marginBottom:5}},React__default.createElement(reactBootstrap.Form.Label,{style:{marginBottom:0}},e.name),React__default.createElement(reactBootstrap.Form.Control,{onChange:t=>this.onRowDataChange(e.name,t.target.value),type:"text",placeholder:e.name,value:this.props.rowData[e.name]}))))),React__default.createElement(reactBootstrap.Modal.Footer,null,React__default.createElement(reactBootstrap.Button,{variant:"secondary",onClick:this.handleClose},"Close"),React__default.createElement(reactBootstrap.Button,{variant:"primary",onClick:this.handleClose},"Save Changes")))}}const mapDispatchToProps$3=(e,t)=>({closeCrudModal:()=>e(closeModal()),onRowDataChange:(t,a)=>e(onRowDataChange(t,a))}),mapStateToProps$3=(e,t)=>({show:e.crudModal.show,colModels:e.reactCrudMaster.colModels,rowData:e.crudModal.rowData});var CrudModal=reactRedux.connect(mapStateToProps$3,mapDispatchToProps$3)(CrudModalComponent);class ColMenuModalComponent extends React.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.state=initialState$2()}render(){return React__default.createElement(reactBootstrap.Modal,{size:"sm",centered:!0,show:this.props.show,onHide:this.props.closeColMenuModel},React__default.createElement(reactBootstrap.Modal.Header,{closeButton:!0},React__default.createElement(reactBootstrap.Modal.Title,{id:"contained-modal-title-vcenter"},this.props.colModel&&this.props.colModel.name)),React__default.createElement(reactBootstrap.Modal.Body,null,React__default.createElement("div",null,"width: ",this.props.colModel&&this.props.colModel.width),React__default.createElement("div",null,"freeze"),React__default.createElement("div",null,"group"),React__default.createElement("div",null,"advanced column filter")))}}const mapDispatchToProps$4=(e,t)=>({closeColMenuModel:()=>e(closeModal$1())}),mapStateToProps$4=(e,t)=>({colModel:e.colMenuModal.colModel,show:e.colMenuModal.show});var ColMenuModal=reactRedux.connect(mapStateToProps$4,mapDispatchToProps$4)(ColMenuModalComponent);const namespace$3=CONTEXT_MENU_MODAL;function setContextMenuTriggerRef(e){return{type:ContextMenuModalActionTypeNames.SET_CONTEXT_MENU_TRIGGER_REF,payload:{ref:e},namespace:namespace$3}}class ContextMenuModalComponent extends React.Component{render(){return React__default.createElement(React__default.Fragment,null,React__default.createElement(reactContextmenu.ContextMenuTrigger,{id:`context_menu_${this.props.RCMID}`,ref:e=>this.props.setContextMenuTriggerRef(e)},React__default.createElement("span",null)),React__default.createElement(reactContextmenu.ContextMenu,{id:`context_menu_${this.props.RCMID}`},React__default.createElement(reactContextmenu.MenuItem,null,React__default.createElement("i",{className:"fas fa-edit"}),React__default.createElement("span",{style:{paddingLeft:10}},"Edit")),React__default.createElement(reactContextmenu.MenuItem,null,React__default.createElement("i",{className:"fas fa-trash-alt"}),React__default.createElement("span",{style:{paddingLeft:10}},"Delete")),React__default.createElement(reactContextmenu.MenuItem,null,React__default.createElement("i",{className:"fas fa-eye"})," ",React__default.createElement("span",{style:{paddingLeft:10}},"View"))))}}const mapDispatchToProps$5=e=>({setContextMenuTriggerRef:t=>e(setContextMenuTriggerRef(t))}),mapStateToProps$5=e=>({RCMID:e.reactCrudMaster.RCMID});var ContextMenuModal=reactRedux.connect(mapStateToProps$5,mapDispatchToProps$5)(ContextMenuModalComponent);class ReactCrudMasterComponent extends React.Component{constructor(e){super(e),this.componentDidMount=()=>{this.props.setColModels(this.props.colModelsProp),this.props.setData(this.props.dataProp),this.props.resetTableoffsetWidth(),null!=this.props.tableTitle&&this.props.setTableTitle(this.props.tableTitle),document.getElementById(`CMID-${this.props.RCMID}`).addEventListener("mouseup",()=>{this.disableResizingColumnIfInResizeMode()}),document.getElementById(`CMID-${this.props.RCMID}`).addEventListener("mousemove",e=>{this.resizeColumnIfInResizeMode(e)})},this.componentWillMount=()=>{window.addEventListener("resize",this.handleWindowSizeChange)},this.componentWillUnmount=()=>{window.removeEventListener("resize",this.handleWindowSizeChange)},this.handleWindowSizeChange=()=>{this.props.resetTableoffsetWidth()},this.disableResizingColumnIfInResizeMode=()=>{null!=this.props.columnToResize&&(this.props.setColumnToResize(),this.enableTextSelectionOnPage())},this.resizeColumnIfInResizeMode=e=>{null!=this.props.columnToResize&&this.props.resizeColumn(e)},this.enableTextSelectionOnPage=()=>{document.body.style.webkitUserSelect="",document.body.style.msUserSelect="",document.body.style.userSelect=""},this.state=initialState()}render(){return React__default.createElement(React__default.Fragment,null,React__default.createElement(reactBootstrap.Card,{id:`CMID-${this.props.RCMID}`,style:{minWidth:360,borderRadius:0}},React__default.createElement(reactBootstrap.Card.Header,{className:"cm-table-header","data-testid":"cm-table-header",style:{padding:5},as:"h5"},this.props.tableTitleProp),React__default.createElement(reactBootstrap.Card.Body,{style:{padding:0}},React__default.createElement("div",{id:`reactable-card-body-${this.props.RCMID}`,className:"reactable-table-holder"},React__default.createElement(TableHeader,null),React__default.createElement(TableBody,null)),React__default.createElement("div",{style:{paddingRight:20,paddingLeft:20,paddingTop:10,paddingBottom:10}},React__default.createElement(TableFooter,{tableWidth:this.props.width})))),React__default.createElement(CrudModal,null),React__default.createElement(ColMenuModal,null),React__default.createElement(ContextMenuModal,null))}}const mapDispatchToProps$6=e=>({setColModels:t=>e(setColModels(t)),setData:t=>e(setData(t)),resizeColumn:t=>e(resizeColumn(t)),setColumnToResize:(t=null,a=null)=>e(setColumnToResize(t,a)),resetTableoffsetWidth:()=>e(resetTableoffsetWidth()),setTableTitle:t=>e(setTableTitle(t))}),mapStateToProps$6=e=>({columnToResize:e.reactCrudMaster.columnToResize,RCMID:e.reactCrudMaster.RCMID,width:e.reactCrudMaster.width,tableTitleProp:e.reactCrudMaster.tableTitleProp});var ReactCrudMasterComponent$1=reactRedux.connect(mapStateToProps$6,mapDispatchToProps$6)(ReactCrudMasterComponent);class ReactCrudMaster extends React.Component{constructor(e){super(e),this.store=redux.createStore(rootReducer,redux.applyMiddleware(thunk))}render(){return React__default.createElement(reactRedux.Provider,{store:this.store},React__default.createElement(ReactCrudMasterComponent$1,{dataProp:this.props.data,colModelsProp:this.props.colModels}))}}exports.ColModel=ColModel,exports.default=ReactCrudMaster;
